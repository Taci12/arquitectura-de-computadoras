ORG 1000H
MENSAJE1 DB "INTRODUZCA NUMERO 1: "
FINMENSAJE1 DB ?
MENSAJE2 DB " INTRODUZCA NUMERO 2: "
FINMENSAJE2 DB ?

ORG 1500H
NUM1 DB ?
NUM2 DB ?
ORG 3000H

LEER: PUSH AX
PUSH BX
PUSH CX

MOV BX, OFFSET MENSAJE1
MOV AL, OFFSET FINMENSAJE1 - OFFSET MENSAJE1
INT 7; IMPRIMO EL PROMPT
MOV BX, OFFSET NUM1
INT 6
MOV DH, [BX]
;YA LEI EL PRIMERO, ESTA EN DH
MOV BX, OFFSET MENSAJE2
MOV AL, OFFSET FINMENSAJE2 - OFFSET MENSAJE2
INT 7
MOV BX, OFFSET NUM2
INT 6
MOV DL, [BX]

POP CX
POP BX
POP AX
RET
ORG 2000H
CALL LEER
; NUM1 en DH
; NUM2 en DL
SUB DH, 30H
SUB DL, 30H
MOV CL, DH
SUB CL, DL; NUM1 - NUM2
; resultado en CL
JNS IMPRIMIR; si no es negativo, imprimo el numero
;sino, hago la conversion:

XOR CL, 0FFH; invierto bits
INC CL
MOV NUM1, CL
ADD NUM1, 030H
MOV NUM2, 02DH; el signo '-'
;imprimo
MOV AL, 1
MOV BX, OFFSET NUM2
INT 7
MOV BX, OFFSET NUM1
INT 7
JMP FIN

IMPRIMIR: MOV NUM1, CL
ADD NUM1, 030H
MOV BX, OFFSET NUM1
MOV AL, 1
INT 7

FIN: HLT
END



















